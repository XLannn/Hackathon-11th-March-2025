<!DOCTYPE html>
<html>
<head>
    <title>Cyber Safety Tool</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>ğŸ”’ Cyber Safety Tool ğŸ”’</h1>

    <h2>ğŸ›¡ï¸ Phishing URL Checker ğŸ›¡ï¸</h2>
    <form id="phishing-form">
        <input type="text" id="url" name="url" placeholder="ğŸŒ Enter website URL">
        <button type="submit">ğŸ” Check</button>
    </form>
    <div id="result"></div>

    <script>
        document.getElementById('phishing-form').onsubmit = async function(e) {
            e.preventDefault();
            let url = document.getElementById('url').value;
            let response = await fetch('/check-url', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams({ url })
            });
            let result = await response.json();
            document.getElementById('result').innerHTML = 
                result.status.includes('Risk Detected') 
                ? `<strong>ğŸŸ¥ Status:</strong> ${result.status}` 
                : `<strong>ğŸŸ¢ Status:</strong> ${result.status}`;
        };
    </script>

    <h2>ğŸ“œ Terms & Conditions Analyzer ğŸ“œ</h2>
    <form id="tos-form">
        <input type="text" id="tos_url" placeholder="ğŸ”— Enter TOS URL">
        <button type="submit">ğŸ“‹ Analyze</button>
    </form>
    <div id="tos-result"></div>

    <script>
        document.getElementById('tos-form').onsubmit = async function(e) {
            e.preventDefault();
            let url = document.getElementById('tos_url').value;
            let response = await fetch('/analyze-tos', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams({ tos_url: url })
            });
            let result = await response.json();
            document.getElementById('tos-result').innerHTML = `
                <strong>${result.status.includes('Risk Detected') ? 'ğŸŸ¥' : 'ğŸŸ¢'} Status:</strong> ${result.status} <br>
                <strong>âš ï¸ Risks:</strong> ${result.risks.join(', ') || 'None'} <br>
                <strong>ğŸŸ© Safe Practices:</strong> ${result.safe_practices.join(', ') || 'None'}
            `;
        };
    </script>

    <h2>ğŸš¨ Anonymous Crime Reporting ğŸš¨</h2>
    <form id="crime-form">
        <input type="text" id="name" placeholder="ğŸ™â€â™‚ï¸ Your Name">
        <textarea id="description" placeholder="âœï¸ Describe the crime"></textarea>
        <input type="text" id="location" placeholder="ğŸ“ Location">
        <button type="submit">ğŸ“¨ Submit</button>
    </form>
    <div id="crime-status"></div>

    <script>
        document.getElementById('crime-form').onsubmit = async function(e) {
            e.preventDefault();
            let name = document.getElementById('name').value;
            let description = document.getElementById('description').value;
            let location = document.getElementById('location').value;

            let response = await fetch('/report-crime', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, description, location })
            });
            let result = await response.json();
            document.getElementById('crime-status').innerText = `âœ… ${result.message}`;
        };
    </script>
</body>
</html>
